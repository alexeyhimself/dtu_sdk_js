<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>"Do They Use" JavaScript SDK HTML Story Book page</title>
  </head>
  <style type="text/css">
    table, th, td {
      border: 1px solid lightgray;
      border-collapse: collapse;
    }
    th, td {
      border-style: groove;
      padding: 5px;
      text-align: left;
    }
    h3 {
      margin-bottom: 7px;
    }
    .unsupported {
      background-color: lightcoral;
    }
  </style>
  <body data-dtu="body">
    <h1>Story Book for <a href="https://github.com/alexeyhimself/dtu_sdk_js">"Do They Use" service JavaScript SDK</a></h1>
    <p>Listed all supported by JS SDK elements with their events and report samples.<br> 
      <u>Elements are interactive:</u> click and change values and see what to be sent in this case in report.</p>
    <h3>&lt;input&gt;</h3>
    <table data-dtu="input table">
      <tr>
        <th>type</th>
        <th>element</th>
        <th>listen event</th>
        <th>data-dtu attribute value in this demo</th>
        <th>element and value to be sent in a report</th>
        <th>comment</th>
      </tr>
      <tbody>
        <tr>
          <td>date</td>
          <td>
            <input type="date" data-dtu="some date"/>
          </td>
          <td>change</td>
          <td>some date</td>
          <td id="some date">...</td>
          <td></td>
        </tr>
        <tr>
          <td>time</td>
          <td>
            <input type="time" data-dtu="some time"/>
          </td>
          <td>change</td>
          <td>some time</td>
          <td id="some time">...</td>
          <td></td>
        </tr>
        <tr>
          <td>datetime-local</td>
          <td>
            <input type="datetime-local" data-dtu="some datetime-local"/>
          </td>
          <td>change</td>
          <td>some datetime-local</td>
          <td id="some datetime-local">...</td>
          <td></td>
        </tr>
        <tr>
        <tr>
          <td>button</td>
          <td>
            <input type="button" data-dtu="some input button" value="input button value" />
          </td>
          <td>click</td>
          <td>some input button</td>
          <td id="some input button">...</td>
          <td></td>
        </tr>
        <tr>
          <td>checkbox</td>
          <td>
            <input type="checkbox" data-dtu="some input checkbox" name="some checkbox" value="input checkbox value 1" />
            <input type="checkbox" data-dtu="some input checkbox" name="some checkbox" value="input checkbox value 2" />
          </td>
          <td>change</td>
          <td>some input checkbox</td>
          <td id="some input checkbox">...</td>
          <td>has additional attribute: "checked"</td>
        </tr>
        <tr>
          <td>radio</td>
          <td>
            <input type="radio" data-dtu="some input radio" name="some radio" value="input radio value 1" />
            <input type="radio" data-dtu="some input radio" name="some radio" value="input radio value 2" />
          </td>
          <td>change</td>
          <td>some input radio</td>
          <td id="some input radio">...</td>
          <td>has additional attribute: "checked"</td>
        </tr>
        <tr>
          <td>email</td>
          <td>
            <input type="email" data-dtu="some input email" name="some email" value="" />
          </td>
          <td>change</td>
          <td>some input email</td>
          <td id="some input email">...</td>
          <td></td>
        </tr>
        <tr>
          <td>password</td>
          <td>
            <input type="password" data-dtu="some input password" name="some password" value="" />
          </td>
          <td>change</td>
          <td>some input password</td>
          <td id="some input password">...</td>
          <td>value contains length of an input value instead of the value itself</td>
        </tr>
        <tr>
          <td>number</td>
          <td>
            <input type="number" data-dtu="some input number" name="some number" value="" />
          </td>
          <td>change</td>
          <td>some input number</td>
          <td id="some input number">...</td>
          <td></td>
        </tr>
        <tr>
          <td>range</td>
          <td>
            <input type="range" data-dtu="some input range" name="some range" value="" />
          </td>
          <td>change</td>
          <td>some input range</td>
          <td id="some input range">...</td>
          <td></td>
        </tr>
        <tr>
          <td>file</td>
          <td>
            <input type="file" data-dtu="some input file" name="some file" value="" />
          </td>
          <td>change</td>
          <td>some input file</td>
          <td id="some input file">...</td>
          <td></td>
        </tr>
        <tr>
          <td>file</td>
          <td>
            <input type="file" data-dtu="some input file (miltiple)" name="some file (miltiple)" value="" multiple/>
          </td>
          <td>change</td>
          <td>some input file (miltiple)</td>
          <td id="some input file (miltiple)">...</td>
          <td>multiple files</td>
        </tr>
        <tr>
          <td>text</td>
          <td>
            <input type="text" data-dtu="some input text" name="some text" value="" />
          </td>
          <td>change</td>
          <td>some input text</td>
          <td id="some input text">...</td>
          <td>value contains length of an input value instead of the value itself</td>
        </tr>
      </tbody>
    </table>
    
    <h3>&lt;select&gt;</h3>
    <table data-dtu="select table">
      <tr>
        <th>type</th>
        <th>element</th>
        <th>listen event</th>
        <th>data-dtu attribute value in this demo</th>
        <th>element and value to be sent in a report</th>
      </tr>
      <tbody>
        <tr>
          <td>select-one</td>
          <td>
            <select data-dtu="some dropdown">
              <option>some value 1</option>
              <option>some value 2</option>
            </select>        
          </td>
          <td>change</td>
          <td>some dropdown</td>
          <td id="some dropdown">...</td>
        </tr>
        <tr>
          <td>select-multiple</td>
          <td>
            <select data-dtu="some dropdown (multiple)" multiple>
              <option>some value 1</option>
              <option>some value 2</option>
            </select>        
          </td>
          <td>change</td>
          <td>some dropdown (multiple)</td>
          <td id="some dropdown (multiple)">...</td>
        </tr>
      </tbody>
    </table>

    <h3>&lt;a&gt;</h3>
    <table data-dtu="anchor table">
      <tr>
        <th>type</th>
        <th>element</th>
        <th>listen event</th>
        <th>data-dtu attribute value in this demo</th>
        <th>element and value to be sent in a report</th>
        <th>comment</th>
      </tr>
      <tbody>
        <tr>
          <td>''</td>
          <td>
            <a href="javascript:;" data-dtu="some link"/>some text in link</a>
          </td>
          <td>click</td>
          <td>some link</td>
          <td id="some link">...</td>
          <td></td>
        </tr>
        <tr>
          <td>''</td>
          <td>
            <a href="javascript:;" data-dtu/>some text in link (empty data-dtu)</a>
          </td>
          <td>click</td>
          <td>''</td>
          <td id="some text in link (empty data-dtu)">...</td>
          <td>empty data-dtu attribute forces to use element's innerText</td>
        </tr>
      </tbody>
    </table>

    <h3>&lt;button&gt;</h3>
    <table data-dtu="button table">
      <tr>
        <th>type</th>
        <th>element</th>
        <th>listen event</th>
        <th>data-dtu attribute value in this demo</th>
        <th>element and value to be sent in a report</th>
        <th>comment</th>
      </tr>
      <tbody>
        <tr>
          <td>submit</td>
          <td>
            <button type="submit" data-dtu="some button"/>button text</button>
          </td>
          <td>click</td>
          <td>some button</td>
          <td id="some button">...</td>
          <td></td>
        </tr>
        <tr>
          <td>submit</td>
          <td>
            <button type="submit" data-dtu/>button text (empty data-dtu)</button>
          </td>
          <td>click</td>
          <td>''</td>
          <td id="button text (empty data-dtu)">...</td>
          <td>empty data-dtu attribute forces to use element's innerText</td>
        </tr>
      </tbody>
    </table>

    <h3>&lt;textarea&gt;</h3>
    <table data-dtu="textarea table">
      <tr>
        <th>type</th>
        <th>element</th>
        <th>listen event</th>
        <th>data-dtu attribute value in this demo</th>
        <th>element and value to be sent in a report</th>
        <th>comment</th>
      </tr>
      <tbody>
        <tr>
          <td>textarea</td>
          <td>
            <textarea data-dtu="some textarea"/>textarea text</textarea>
          </td>
          <td>change</td>
          <td>some textarea</td>
          <td id="some textarea">...</td>
          <td></td>
        </tr>
      </tbody>
    </table>

    <script type="text/javascript">
      function update_storybook(report) {
        const values_to_exclude = ['ctag', 'topic', 'uid', 'ugid', 'date_time', 'url_scheme', 'url_domain_name', 'url_port', 'url_path', 'url_parameters', 'page_title', 'element_type', 'event_type']; // exclude these items to display only most meaningful items in story book table
        
        let report_simplified = {...report};
        for (let i in values_to_exclude)
          delete report_simplified[values_to_exclude[i]];
        let td_element = document.getElementById(report_simplified.element);
        td_element.innerHTML = JSON.stringify(report_simplified);

        console.log(report)
      };
    </script>

    <script src="dtu_sdk.js"></script>
    <script type="text/javascript">
      dtu.ctag = 'DTU STORY BOOK CTAG';
      dtu.callback = update_storybook;
    </script>
  </body>
</html>
